---
// 产品功能说明文档组件
import { t } from '../i18n/translations';
import type { Language } from '../i18n/index';
import { Wrench, Settings, Eraser, FileText } from '@lucide/astro';

interface Props {
  lang?: Language;
}

const { lang = 'en' } = Astro.props;
const translate = t(lang);
---

<section class="feature-documentation">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
        {translate('features.main.title')}
      </h2>
      <p class="text-lg text-gray-600 dark:text-gray-300">
        {translate('features.main.description')}
      </p>
    </div>

    <!-- 配置选项说明 -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
      <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md border border-gray-200 dark:border-gray-700">
        <div class="flex items-center mb-4">
          <span class="text-2xl mr-3"></span>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{translate('features.unquoted.title')}</h3>
        </div>
        <p class="text-gray-600 dark:text-gray-300 mb-4">
          {translate('features.unquoted.description')}
        </p>
        <div class="bg-gray-50 dark:bg-gray-700 rounded p-3 font-mono text-sm">
          <div class="text-gray-500 dark:text-gray-400 mb-1">{translate('ui.input.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{'{'}name: "John", age: 30{'}'}</span>
          </div>
          <div class="text-gray-500 dark:text-gray-400 mt-2 mb-1">{translate('ui.output.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{'{"'}name{'"'}: "John", "age": 30{'}'}</span>
          </div>
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md border border-gray-200 dark:border-gray-700">
        <div class="flex items-center mb-4">
          <span class="text-2xl mr-3"></span>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{translate('features.quotes.title')}</h3>
        </div>
        <p class="text-gray-600 dark:text-gray-300 mb-4">
          {translate('features.quotes.description')}
        </p>
        <div class="bg-gray-50 dark:bg-gray-700 rounded p-3 font-mono text-sm">
          <div class="text-gray-500 dark:text-gray-400 mb-1">{translate('ui.input.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{`{"name": 'Alice'}`}</span>
          </div>
          <div class="text-gray-500 dark:text-gray-400 mt-2 mb-1">{translate('ui.output.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{'{"'}name{'"'}: "Alice"{'}'}</span>
          </div>
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md border border-gray-200 dark:border-gray-700">
        <div class="flex items-center mb-4">
          <span class="text-2xl mr-3"></span>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{translate('features.trailing.title')}</h3>
        </div>
        <p class="text-gray-600 dark:text-gray-300 mb-4">
          {translate('features.trailing.description')}
        </p>
        <div class="bg-gray-50 dark:bg-gray-700 rounded p-3 font-mono text-sm">
          <div class="text-gray-500 dark:text-gray-400 mb-1">{translate('ui.input.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{'{"'}name{'"'}: "Bob",{'}'}</span>
          </div>
          <div class="text-gray-500 dark:text-gray-400 mt-2 mb-1">{translate('ui.output.label')}</div>
          <div class="text-gray-900 dark:text-white">
            <span>{'{"'}name{'"'}: "Bob"{'}'}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 综合示例 -->
    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 rounded-lg p-8 mb-12">
      <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">
        {translate('features.example.title')}
      </h3>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div>
          <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">{translate('features.example.input')}</h4>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto border border-gray-200 dark:border-gray-700">
            <pre class="text-gray-900 dark:text-white font-mono"><code>&#123;
  name: 'JSON Formatter',
  age: 30,
  profile: &#123;
    job: 'Developer',
    skills: ['JavaScript', 'Python', 'Go',],
    experience: &#123;
      years: 5,
      companies: ['A', 'B',],
    &#125;,
  &#125;,
  hobbies: ['Programming', 'Reading', 'Traveling',],
  active: true,
&#125;</code></pre>
          </div>
        </div>
        <div>
          <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">{translate('features.example.output')}</h4>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-sm overflow-x-auto border border-gray-200 dark:border-gray-700">
            <pre class="text-gray-900 dark:text-white font-mono"><code>&#123;
  "name": "JSON Formatter",
  "age": 30,
  "profile": &#123;
    "job": "Developer",
    "skills": ["JavaScript", "Python", "Go"],
    "experience": &#123;
      "years": 5,
      "companies": ["A", "B"]
    &#125;
  &#125;,
  "hobbies": ["Programming", "Reading", "Traveling"],
  "active": true
&#125;</code></pre>
          </div>
        </div>
      </div>
    </div>

    <!-- 使用场景 -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
      <div class="text-center">
        <div class="bg-blue-50 dark:bg-blue-950 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <Wrench class="w-8 h-8 text-blue-600 dark:text-blue-400" />
        </div>
        <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{translate('features.usage.debug')}</h4>
        <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.usage.debug.desc')}</p>
      </div>
      
      <div class="text-center">
        <div class="bg-blue-50 dark:bg-blue-950 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <Settings class="w-8 h-8 text-blue-600 dark:text-blue-400" />
        </div>
        <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{translate('features.usage.config')}</h4>
        <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.usage.config.desc')}</p>
      </div>
      
      <div class="text-center">
        <div class="bg-blue-50 dark:bg-blue-950 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <Eraser class="w-8 h-8 text-blue-600 dark:text-blue-400" />
        </div>
        <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{translate('features.usage.clean')}</h4>
        <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.usage.clean.desc')}</p>
      </div>
      
      <div class="text-center">
        <div class="bg-blue-50 dark:bg-blue-950 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
          <FileText class="w-8 h-8 text-blue-600 dark:text-blue-400" />
        </div>
        <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{translate('features.usage.format')}</h4>
        <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.usage.format.desc')}</p>
      </div>
    </div>

    <!-- 技术特点 -->
    <div class="bg-white dark:bg-gray-800 rounded-lg p-8 shadow-md border border-gray-200 dark:border-gray-700">
      <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">
        {translate('features.tech.title')}
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.order')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.order.desc')}</p>
            </div>
          </div>
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.safe')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.safe.desc')}</p>
            </div>
          </div>
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.integration')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.integration.desc')}</p>
            </div>
          </div>
        </div>
        <div class="space-y-4">
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.realtime')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.realtime.desc')}</p>
            </div>
          </div>
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.error')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.error.desc')}</p>
            </div>
          </div>
          <div class="flex items-start">
            <span class="text-green-500 text-xl mr-3">✅</span>
            <div>
              <h4 class="font-semibold text-gray-900 dark:text-white">{translate('features.tech.compatible')}</h4>
              <p class="text-gray-600 dark:text-gray-300 text-sm">{translate('features.tech.compatible.desc')}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .feature-documentation {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-top: 1px solid #e2e8f0;
  }
  
  .dark .feature-documentation {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-top: 1px solid #334155;
  }
  
  pre {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    line-height: 1.5;
  }
  
  code {
    font-family: inherit;
  }
  
  /* 响应式调整 */
  @media (max-width: 768px) {
    .feature-documentation .grid {
      grid-template-columns: 1fr;
    }
    
    pre {
      font-size: 0.75rem;
    }
  }
</style> 